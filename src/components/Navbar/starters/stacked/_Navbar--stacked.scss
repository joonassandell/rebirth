/* =======================================
 * Navbar - Stacked
 * =======================================
 *
 * @extends `.Navbar{}` in _Navbar.scss
 */

.Navbar--stacked {
  background-color: $colorBgLightest;
  display: flex;
  flex-wrap: wrap;

  &.is-open > ul {
    display: block;
  }

  > ul {
    display: none;
    width: 100%;
  }

  .Navbar-logo {
    @include fontSize($baseFontSize-l, $baseLineHeight-l);
    align-items: center;
    color: $colorText;
    display: flex;
    padding: 0 $uiSpace;
  }

  .Navbar-ctrl {
    display: flex;
    margin-left: auto;
    min-height: $uiSpace * 2;
  }

    .Navbar-ctrl-trigger {
      align-items: center;
      color: $colorText;
      cursor: pointer;
      display: flex;
      justify-content: center;
      min-width: $uiSpace * 2;
      padding: 0 ($uiSpace / 2);
    }

      .Navbar-ctrl-trigger-icon {
        @include shapeMenu($colorPrimary);
      }

  .Navbar-item {
    border-top: 1px solid $colorBorder;
    display: flex;
    flex-wrap: wrap;

    &.is-active {
      > .Navbar-link {
        color: $colorLink;
      }
    }

    &.is-open {
      > .Navbar-trigger > .Navbar-trigger-icon {
        transform: rotate(0deg);
      }

      > .Navbar-sub {
        display: block;
      }
    }
  }

  .Navbar-link {
    align-items: center;
    color: $colorText;
    cursor: pointer;
    display: flex;
    flex: 1;
    padding: ($uiSpace / 2) $uiSpace;

    &:hover {
      color: $colorLink;
    }
  }

  .Navbar-trigger {
    align-items: center;
    border-left: 1px solid $colorBorder;
    color: $colorText;
    cursor: pointer;
    display: flex;
    justify-content: center;
    min-width: $uiSpace * 2;
    padding: 0 ($uiSpace / 2);
  }

    .Navbar-trigger-icon {
      @include shapeArrow('down');
      pointer-events: none;
    }

  .Navbar-sub {
    display: none;
    background-color: darken($colorLight, 6);
    width: 100%;

    .Navbar-link  {
      background-color: transparent;

      &:hover {
        color: $colorLink;
      }
    }

    ul {
      background-color: rgba($colorDark, 0.03);

      .Navbar-trigger {
        background-color: transparent;
      }
    }
  }


  /* ======
   * Media Query Breakpoints
   * ====== */

  @mixin NavbarStacked-expand() {
    > ul {
      display: block;
      padding: $uiSpace 0;
    }

    .Navbar-ctrl {
      display: none;
    }

    .Navbar-item {
      border: 0;

      &.is-active {
        .Navbar-sub {
          display: block;
        }
      }
    }

      .Navbar-link {
        padding: ($uiSpace / 6) $uiSpace;
      }

      .Navbar-trigger {
        display: none;
      }

    .Navbar-sub {
      @include fontSize($baseFontSize-s, $baseLineHeight-s);
      background-color: transparent;
      display: none;
      margin-bottom: $uiSpace / 2;

      .Navbar-link {
        color: $colorTextLightest;
      }
    }
  }

  @each $name, $px in $NavbarStacked-breakpoints {
    @media (min-width: mq-px2em($px)) {
      @if length(map-values($NavbarStacked-breakpoints)) > 1 {
        &.-#{$name}-expand {
          @include NavbarStacked-expand()
        }
      } @else {
        @include NavbarStacked-expand()
      }
    }
  }
}
